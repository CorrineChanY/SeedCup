{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/chenyi/Git/SEED/SeedCup/src/pages/signin/signin.js\",\n    _s = $RefreshSig$();\n\n/**\r\n * 登陆界面\r\n * @file signin.js\r\n * @author \r\n * @copyright \r\n * @createDate 2020-12-15\r\n */\nimport React, { useState } from 'react';\nimport \"../signin/signin.css\";\nimport signin from \"../../img/signin.png\";\nimport axios from \"axios\"; // const base = 'http://yapi.holdice.club/mock/11';\n\nconst base = 'http://www.holdice.club:8087';\n\nfunction SignIn() {\n  _s();\n\n  const [usr, setUsr] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n\n  function handleUsrInput(e) {\n    setUsr(e.target.value);\n  }\n\n  function handlePassInput(e) {\n    setPass(e.target.value);\n  }\n\n  function logIn() {\n    // Add a response interceptor\n    axios.interceptors.response.use(function (response) {\n      // Any status code that lie within the range of 2xx cause this function to trigger\n      // Do something with response data\n      if (response.data.code === \"100\" && response.data.message === \"failed\") {\n        // response.status = 100;\n        // console.log(\"登陆失败！\");\n        throw \"login failed\";\n      }\n\n      return response;\n    }, function (error) {\n      // Any status codes that falls outside the range of 2xx cause this function to trigger\n      // Do something with response error\n      return Promise.reject(error);\n    });\n    axios.post(base + '/api/user/log_in', {\n      username: usr,\n      password: pass\n    }, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function (response) {\n      console.log(response);\n      console.log(usr);\n\n      if (response.data.code === \"0\" && response.data.message === \"success\") {\n        alert(\"登陆成功！\");\n      } else {\n        alert(\"登陆失败！\");\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  } // render() {\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"maintain\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pdleft\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login\",\n        children: [/*#__PURE__*/_jsxDEV(\"font\", {\n          style: {\n            fontSize: \"18px\"\n          },\n          children: \"\\u5FAE\\u6D3E\\xB7\\u79CD\\u5B50\\u676F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"font\", {\n          style: {\n            fontSize: \"18px\",\n            color: \"rgb(50,187,255)\"\n          },\n          children: \"|\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            fontSize: \"12px\"\n          },\n          children: \"\\u8F6F\\u4EF6\\u7F16\\u7A0BPK\\u8D5B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"font\", {\n          style: {\n            color: \"white\",\n            fontSize: \"2.5em\"\n          },\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u7528\\u6237\\u540D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onInput: handleUsrInput,\n            type: \"text\",\n            placeholder: \"\\u8BF7\\u7528\\u624B\\u673A\\u53F7\\u6216\\u90AE\\u7BB1\\u767B\\u5F55\",\n            style: {\n              width: \"40%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u5BC6\\u7801\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onInput: handlePassInput,\n            type: \"password\",\n            style: {\n              width: \"40%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 28\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              position: \"relative\",\n              left: \"48%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/#/signup\",\n              style: {\n                color: \"white\",\n                textDecoration: \"none\"\n              },\n              children: \"sign up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 78\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"submitinfo\",\n          style: {\n            position: \"absolute\",\n            left: \"10px\"\n          },\n          onClick: logIn,\n          children: \"\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      type: \"text/css\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pdright\",\n      style: {\n        position: \"absolute\",\n        top: \"-100px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"picinfo\",\n        src: signin,\n        alt: \"picinfo\",\n        style: {\n          position: \"relative\",\n          left: \"50px\",\n          top: \"100px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 13\n  }, this); // }\n}\n\n_s(SignIn, \"TRkM6p6SljNXqLqQYCtZT7o59oU=\");\n\n_c = SignIn;\n;\nexport default SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["/Users/chenyi/Git/SEED/SeedCup/src/pages/signin/signin.js"],"names":["React","useState","signin","axios","base","SignIn","usr","setUsr","pass","setPass","handleUsrInput","e","target","value","handlePassInput","logIn","interceptors","response","use","data","code","message","error","Promise","reject","post","username","password","headers","then","console","log","alert","catch","fontSize","color","width","position","left","textDecoration","top"],"mappings":"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","sourcesContent":["/**\r\n * 登陆界面\r\n * @file signin.js\r\n * @author \r\n * @copyright \r\n * @createDate 2020-12-15\r\n */\r\n\r\nimport React, { useState } from 'react'\r\nimport \"../signin/signin.css\"\r\nimport signin from \"../../img/signin.png\"\r\nimport axios from \"axios\"\r\n\r\n// const base = 'http://yapi.holdice.club/mock/11';\r\nconst base = 'http://www.holdice.club:8087';\r\n\r\n\r\n\r\nfunction SignIn() {\r\n\r\n    const [usr, setUsr] = useState(\"\");\r\n    const [pass, setPass] = useState(\"\");\r\n\r\n    function handleUsrInput(e) {\r\n        setUsr(e.target.value)\r\n    }\r\n\r\n    function handlePassInput(e) {\r\n        setPass(e.target.value)\r\n    }\r\n\r\n    function logIn() {\r\n        // Add a response interceptor\r\n        axios.interceptors.response.use(function (response) {\r\n            // Any status code that lie within the range of 2xx cause this function to trigger\r\n            // Do something with response data\r\n            if(response.data.code === \"100\" && response.data.message === \"failed\"){\r\n                // response.status = 100;\r\n                // console.log(\"登陆失败！\");\r\n                throw \"login failed\"\r\n            }\r\n            return response;\r\n        }, function (error) {\r\n            // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n            // Do something with response error\r\n            return Promise.reject(error);\r\n        });\r\n\r\n        axios.post(base + '/api/user/log_in', {\r\n            username: usr,\r\n            password: pass\r\n        },{\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(function (response) {\r\n            console.log(response);\r\n            console.log(usr);\r\n            if(response.data.code === \"0\" && response.data.message === \"success\"){\r\n                alert(\"登陆成功！\");\r\n            }else{\r\n                alert(\"登陆失败！\");\r\n            }\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n\r\n        \r\n    }\r\n\r\n    \r\n\r\n    // render() {\r\n        return(\r\n            <div className=\"maintain\">\r\n                <div className=\"pdleft\">\r\n                    <div className=\"login\">\r\n                        <font style={{fontSize: \"18px\"}}>微派·种子杯</font>\r\n                        <font  style={{fontSize: \"18px\", color:\"rgb(50,187,255)\"}}>|</font>\r\n                        <small style={{fontSize: \"12px\"}}>软件编程PK赛</small>\r\n                        \r\n                        <br /><br /><br />\r\n\r\n                        <font style={{color:\"white\", fontSize: \"2.5em\"}}>登录</font>\r\n\r\n                        <br /><br />\r\n                        <form>\r\n                            <label>用户名</label>\r\n                            <br />\r\n                            <input onInput={handleUsrInput} type=\"text\" placeholder=\"请用手机号或邮箱登录\" style={{width:\"40%\"}}></input>\r\n                            <br />\r\n                            <br />\r\n                            <br />\r\n                            <label>密码</label>\r\n                            <br />\r\n                           <input onInput={handlePassInput} type=\"password\" style={{width:\"40%\"}}></input>\r\n                            <br />\r\n                            <span style={{position:\"relative\", left: \"48%\"}}><a href=\"/#/signup\" style={{color:\"white\", textDecoration:\"none\"}}>sign up</a></span>\r\n                        </form>\r\n\r\n                        <br />\r\n                        <br />\r\n                    \r\n                        <button type=\"button\" className=\"submitinfo\"\r\n                        style={{\r\n                            position:\"absolute\",\r\n                            left:\"10px\"\r\n                        }} \r\n                        onClick={logIn}>\r\n                            登录\r\n                        </button>\r\n                    </div>\r\n                    \r\n                    \r\n                </div>\r\n                <style type=\"text/css\"></style>\r\n                <div className=\"pdright\"\r\n                style={{\r\n                    position:\"absolute\",\r\n                    top:\"-100px\"\r\n                }}>\r\n                    <img \r\n                    className=\"picinfo\" \r\n                    src={signin} \r\n                    alt=\"picinfo\" \r\n                    style={{\r\n                        position:\"relative\",\r\n                    left:\"50px\",\r\n                    top:\"100px\"}}\r\n                    />\r\n                </div>\r\n        </div>\r\n        )\r\n    // }\r\n};\r\n\r\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}